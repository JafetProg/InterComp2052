{% extends "layout.html" %}
{% block title %}Cambio de Contraseña - Sistema Médico{% endblock %}
{% block content %}
<div class="border rounded p-4 bg-light">
  <h3 class="mb-4 text-primary">
    <i class="fas fa-lock me-2"></i>Cambiar Contraseña
  </h3>
  
  <form method="POST" novalidate>
    {{ form.hidden_tag() }}
    
    <!-- Contraseña Actual -->
    <div class="mb-3">
      {{ form.old_password.label(class="form-label fw-bold") }}
      <div class="input-group">
        <span class="input-group-text bg-white">
          <i class="fas fa-key"></i>
        </span>
        {{ form.old_password(class="form-control", placeholder="Ingrese su contraseña actual") }}
      </div>
    </div>
    
    <!-- Nueva Contraseña -->
    <div class="mb-3">
      {{ form.new_password.label(class="form-label fw-bold") }}
      <div class="input-group">
        <span class="input-group-text bg-white">
          <i class="fas fa-lock"></i>
        </span>
        {{ form.new_password(class="form-control", placeholder="Ingrese nueva contraseña (mínimo 8 caracteres)") }}
      </div>
      <small class="text-muted">Recomendado: Use combinación de letras, números y símbolos</small>
    </div>
    
    <!-- Confirmar Contraseña -->
    <div class="mb-3">
      {{ form.confirm_password.label(class="form-label fw-bold") }}
      <div class="input-group">
        <span class="input-group-text bg-white">
          <i class="fas fa-check-circle"></i>
        </span>
        {{ form.confirm_password(class="form-control", placeholder="Confirme su nueva contraseña") }}
      </div>
    </div>
    
    <!-- Botón -->
    <div class="d-grid gap-2 pt-3">
      {{ form.submit(class="btn btn-primary", value="Actualizar Contraseña") }}
      <a href="{{ url_for('main.dashboard') }}" class="btn btn-outline-secondary">
        <i class="fas fa-arrow-left me-1"></i> Volver al Panel
      </a>
    </div>
  </form>
</div>

<!-- Medical system disclaimer -->
<div class="alert alert-info mt-3">
  <i class="fas fa-info-circle me-2"></i>
  <strong>Seguridad del Sistema Médico:</strong> Por favor mantenga su contraseña en un lugar seguro. 
  Todo acceso a historiales médicos es registrado.
</div>
{% endblock %}